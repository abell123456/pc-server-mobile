'use strict';

var updateCheck = require('./lib/update-check');
var pkg = require('./package.json');

module.exports = function (type, config) {
    console.log([
        '         .__  .__            ver.' + pkg.version,
        '  _____  |  | |__| ____   _______  __',
        '  \\__  \\ |  | |  |/ __ \\ /    \\  \\/ /',
        '   / __ \\|  |_|  \\  ___/|   |  \\   / ',
        '  (____  /____/__|\\___  >___|  /\\_/  ',
        '       \\/             \\/     \\/      ',
        '----------------------------------------'
    ].join('\n'));

	updateCheck(function () {
        console.log('[i] Use config: "%s"', type);
        console.log('[i] Use options:\n%s',
            JSON.stringify(config, null, 2).replace(/^/mg, '  '));
        console.log('----------------------------------------');

		require('./conf/' + type)(config);
	});
};
